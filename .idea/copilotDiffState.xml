<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/apps/api/app/app.go">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/apps/api/app/app.go" />
              <option name="originalContent" value="package app&#10;&#10;import (&#10;&#9;&quot;techmind/internal/connetions/elasticsearch&quot;&#10;&#9;&quot;techmind/internal/connetions/minio&quot;&#10;&#9;&quot;techmind/internal/connetions/postgres&quot;&#10;&#9;&quot;techmind/internal/di&quot;&#10;&#10;&#9;&quot;go.uber.org/fx&quot;&#10;)&#10;&#10;var App = fx.Options(&#10;&#9;fx.Provide(&#10;&#9;&#9;postgres.New,&#10;&#9;&#9;minio.New,&#10;&#9;&#9;elasticsearch.New,&#10;&#9;),&#10;&#9;di.Repository,&#10;&#9;di.Service,&#10;&#9;di.Transport,&#10;)&#10;" />
              <option name="updatedContent" value="package app&#10;&#10;import (&#10;&#9;&quot;techmind/internal/connetions/elasticsearch&quot;&#10;&#9;&quot;techmind/internal/connetions/minio&quot;&#10;&#9;&quot;techmind/internal/connetions/postgres&quot;&#10;&#9;&quot;techmind/internal/di&quot;&#10;&#10;&#9;&quot;go.uber.org/fx&quot;&#10;)&#10;&#10;var App = fx.Options(&#10;&#9;fx.Provide(&#10;&#9;&#9;postgres.New,&#10;&#9;&#9;minio.New,&#10;&#9;&#9;elasticsearch.New,&#10;&#9;),&#10;&#9;di.Repository,&#10;&#9;di.Service,&#10;&#9;di.Transport,&#10;)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/apps/api/internal/service/company_user_service.go">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/apps/api/internal/service/company_user_service.go" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package service&#10;&#10;import (&#10;&#9;&quot;context&quot;&#10;&#9;&quot;techmind/internal/repo&quot;&#10;&#10;&#9;&quot;github.com/google/uuid&quot;&#10;)&#10;&#10;type companyUserService struct {&#10;&#9;repo repo.CompanyUserRepository&#10;}&#10;&#10;func NewCompanyUserService(repo repo.CompanyUserRepository) CompanyUserService {&#10;&#9;return &amp;companyUserService{repo: repo}&#10;}&#10;&#10;func (s *companyUserService) GetUserRole(ctx context.Context, userID, companyID uuid.UUID) (int, error) {&#10;&#9;return s.repo.GetUserRole(ctx, userID, companyID)&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/apps/api/schema/company.go">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/apps/api/schema/company.go" />
              <option name="originalContent" value="package schema&#10;&#10;import (&#10;&#9;&quot;entgo.io/ent&quot;&#10;&#9;&quot;entgo.io/ent/schema/edge&quot;&#10;&#9;&quot;entgo.io/ent/schema/field&quot;&#10;&#9;&quot;github.com/google/uuid&quot;&#10;)&#10;&#10;// Company holds the schema definition for the Company entity.&#10;type Company struct {&#10;&#9;ent.Schema&#10;}&#10;&#10;// Fields of the Company.&#10;func (Company) Fields() []ent.Field {&#10;&#9;return []ent.Field{&#10;&#9;&#9;field.UUID(&quot;id&quot;, uuid.UUID{}).&#10;&#9;&#9;&#9;Default(uuid.New).&#10;&#9;&#9;&#9;Immutable(),&#10;&#9;&#9;field.String(&quot;name&quot;).&#10;&#9;&#9;&#9;NotEmpty(),&#10;&#9;}&#10;}&#10;&#10;// Edges of the Company.&#10;func (Company) Edges() []ent.Edge {&#10;&#9;return []ent.Edge{&#10;&#9;&#9;edge.To(&quot;company_users&quot;, CompanyUser.Type),&#10;&#9;&#9;edge.To(&quot;folders&quot;, Folder.Type),&#10;&#9;&#9;edge.To(&quot;documents&quot;, Document.Type),&#10;&#9;&#9;edge.To(&quot;tags&quot;, Tag.Type),&#10;&#9;}&#10;}&#10;" />
              <option name="updatedContent" value="package schema&#10;&#10;import (&#10;&#9;&quot;entgo.io/ent&quot;&#10;&#9;&quot;entgo.io/ent/schema/edge&quot;&#10;&#9;&quot;entgo.io/ent/schema/field&quot;&#10;&#9;&quot;github.com/google/uuid&quot;&#10;)&#10;&#10;// Company holds the schema definition for the Company entity.&#10;type Company struct {&#10;&#9;ent.Schema&#10;}&#10;&#10;// Fields of the Company.&#10;func (Company) Fields() []ent.Field {&#10;&#9;return []ent.Field{&#10;&#9;&#9;field.UUID(&quot;id&quot;, uuid.UUID{}).&#10;&#9;&#9;&#9;Default(uuid.New).&#10;&#9;&#9;&#9;Immutable(),&#10;&#9;&#9;field.String(&quot;name&quot;).&#10;&#9;&#9;&#9;NotEmpty(),&#10;&#9;}&#10;}&#10;&#10;// Edges of the Company.&#10;func (Company) Edges() []ent.Edge {&#10;&#9;return []ent.Edge{&#10;&#9;&#9;edge.To(&quot;company_users&quot;, CompanyUser.Type),&#10;&#9;&#9;edge.To(&quot;folders&quot;, Folder.Type),&#10;&#9;&#9;edge.To(&quot;documents&quot;, Document.Type),&#10;&#9;&#9;edge.To(&quot;tags&quot;, Tag.Type),&#10;&#9;}&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/apps/api/schema/document_tag.go">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/apps/api/schema/document_tag.go" />
              <option name="originalContent" value="package schema&#10;&#10;import (&#10;&#9;&quot;entgo.io/ent&quot;&#10;&#9;&quot;entgo.io/ent/schema/edge&quot;&#10;&#9;&quot;entgo.io/ent/schema/field&quot;&#10;&#9;&quot;github.com/google/uuid&quot;&#10;)&#10;&#10;// DocumentTag holds the schema definition for the DocumentTag entity.&#10;type DocumentTag struct {&#10;&#9;ent.Schema&#10;}&#10;&#10;// Fields of the DocumentTag.&#10;func (DocumentTag) Fields() []ent.Field {&#10;&#9;return []ent.Field{&#10;&#9;&#9;field.UUID(&quot;id&quot;, uuid.UUID{}).&#10;&#9;&#9;&#9;Default(uuid.New).&#10;&#9;&#9;&#9;Immutable(),&#10;&#9;&#9;field.UUID(&quot;document_id&quot;, uuid.UUID{}),&#10;&#9;&#9;field.UUID(&quot;tag_id&quot;, uuid.UUID{}),&#10;&#9;}&#10;}&#10;&#10;// Edges of the DocumentTag.&#10;func (DocumentTag) Edges() []ent.Edge {&#10;&#9;return []ent.Edge{&#10;&#9;&#9;edge.From(&quot;document&quot;, Document.Type).&#10;&#9;&#9;&#9;Ref(&quot;document_tags&quot;),&#10;&#9;&#9;edge.From(&quot;tag&quot;, Tag.Type).&#10;&#9;&#9;&#9;Ref(&quot;document_tags&quot;),&#10;&#9;}&#10;}&#10;" />
              <option name="updatedContent" value="package schema&#10;&#10;import (&#10;&#9;&quot;entgo.io/ent&quot;&#10;&#9;&quot;entgo.io/ent/schema/edge&quot;&#10;&#9;&quot;entgo.io/ent/schema/field&quot;&#10;&#9;&quot;github.com/google/uuid&quot;&#10;)&#10;&#10;// DocumentTag holds the schema definition for the DocumentTag entity.&#10;type DocumentTag struct {&#10;&#9;ent.Schema&#10;}&#10;&#10;// Fields of the DocumentTag.&#10;func (DocumentTag) Fields() []ent.Field {&#10;&#9;return []ent.Field{&#10;&#9;&#9;field.UUID(&quot;id&quot;, uuid.UUID{}).&#10;&#9;&#9;&#9;Default(uuid.New).&#10;&#9;&#9;&#9;Immutable(),&#10;&#9;&#9;field.UUID(&quot;document_id&quot;, uuid.UUID{}),&#10;&#9;&#9;field.UUID(&quot;tag_id&quot;, uuid.UUID{}),&#10;&#9;}&#10;}&#10;&#10;// Edges of the DocumentTag.&#10;func (DocumentTag) Edges() []ent.Edge {&#10;&#9;return []ent.Edge{&#10;&#9;&#9;edge.From(&quot;document&quot;, Document.Type).&#10;&#9;&#9;&#9;Ref(&quot;document_tags&quot;),&#10;&#9;&#9;edge.From(&quot;tag&quot;, Tag.Type).&#10;&#9;&#9;&#9;Ref(&quot;document_tags&quot;),&#10;&#9;}&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/apps/api/schema/homework_code_test.go">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/apps/api/schema/homework_code_test.go" />
              <option name="updatedContent" value="package schema&#10;&#10;import (&#10;&#9;&quot;entgo.io/ent&quot;&#10;&#9;&quot;entgo.io/ent/schema/edge&quot;&#10;&#9;&quot;entgo.io/ent/schema/field&quot;&#10;&#9;&quot;github.com/google/uuid&quot;&#10;)&#10;&#10;// HomeworkCodeTest holds the schema definition for the HomeworkCodeTest entity.&#10;type HomeworkCodeTest struct {&#10;&#9;ent.Schema&#10;}&#10;&#10;// Fields of the HomeworkCodeTest.&#10;func (HomeworkCodeTest) Fields() []ent.Field {&#10;&#9;return []ent.Field{&#10;&#9;&#9;field.UUID(&quot;id&quot;, uuid.UUID{}).&#10;&#9;&#9;&#9;Default(uuid.New).&#10;&#9;&#9;&#9;Immutable(),&#10;&#9;&#9;field.UUID(&quot;task_id&quot;, uuid.UUID{}),&#10;&#9;&#9;field.String(&quot;in&quot;),&#10;&#9;&#9;field.String(&quot;out&quot;),&#10;&#9;&#9;field.Bool(&quot;is_hide&quot;).&#10;&#9;&#9;&#9;Default(false),&#10;&#9;}&#10;}&#10;&#10;// Edges of the HomeworkCodeTest.&#10;func (HomeworkCodeTest) Edges() []ent.Edge {&#10;&#9;return []ent.Edge{&#10;&#9;&#9;edge.From(&quot;task&quot;, HomeworkTask.Type).&#10;&#9;&#9;&#9;Ref(&quot;code_tests_rel&quot;).&#10;&#9;&#9;&#9;Field(&quot;task_id&quot;).&#10;&#9;&#9;&#9;Unique().&#10;&#9;&#9;&#9;Required(),&#10;&#9;}&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/apps/api/schema/tag.go">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/apps/api/schema/tag.go" />
              <option name="originalContent" value="package schema&#10;&#10;import (&#10;&#9;&quot;entgo.io/ent&quot;&#10;&#9;&quot;entgo.io/ent/schema/edge&quot;&#10;&#9;&quot;entgo.io/ent/schema/field&quot;&#10;&#9;&quot;github.com/google/uuid&quot;&#10;)&#10;&#10;// Tag holds the schema definition for the Tag entity.&#10;type Tag struct {&#10;&#9;ent.Schema&#10;}&#10;&#10;// Fields of the Tag.&#10;func (Tag) Fields() []ent.Field {&#10;&#9;return []ent.Field{&#10;&#9;&#9;field.UUID(&quot;id&quot;, uuid.UUID{}).&#10;&#9;&#9;&#9;Default(uuid.New).&#10;&#9;&#9;&#9;Immutable(),&#10;&#9;&#9;field.UUID(&quot;company_id&quot;, uuid.UUID{}),&#10;&#9;&#9;field.String(&quot;name&quot;).&#10;&#9;&#9;&#9;NotEmpty(),&#10;&#9;}&#10;}&#10;&#10;// Edges of the Tag.&#10;func (Tag) Edges() []ent.Edge {&#10;&#9;return []ent.Edge{&#10;&#9;&#9;edge.From(&quot;company&quot;, Company.Type).&#10;&#9;&#9;&#9;Ref(&quot;tags&quot;).&#10;&#9;&#9;&#9;Field(&quot;company_id&quot;).&#10;&#9;&#9;&#9;Required().&#10;&#9;&#9;&#9;Unique(),&#10;&#9;&#9;edge.To(&quot;document_tags&quot;, DocumentTag.Type),&#10;&#9;}&#10;}&#10;" />
              <option name="updatedContent" value="package schema&#10;&#10;import (&#10;&#9;&quot;entgo.io/ent&quot;&#10;&#9;&quot;entgo.io/ent/schema/edge&quot;&#10;&#9;&quot;entgo.io/ent/schema/field&quot;&#10;&#9;&quot;github.com/google/uuid&quot;&#10;)&#10;&#10;// Tag holds the schema definition for the Tag entity.&#10;type Tag struct {&#10;&#9;ent.Schema&#10;}&#10;&#10;// Fields of the Tag.&#10;func (Tag) Fields() []ent.Field {&#10;&#9;return []ent.Field{&#10;&#9;&#9;field.UUID(&quot;id&quot;, uuid.UUID{}).&#10;&#9;&#9;&#9;Default(uuid.New).&#10;&#9;&#9;&#9;Immutable(),&#10;&#9;&#9;field.UUID(&quot;company_id&quot;, uuid.UUID{}),&#10;&#9;&#9;field.String(&quot;name&quot;).&#10;&#9;&#9;&#9;NotEmpty(),&#10;&#9;}&#10;}&#10;&#10;// Edges of the Tag.&#10;func (Tag) Edges() []ent.Edge {&#10;&#9;return []ent.Edge{&#10;&#9;&#9;edge.From(&quot;company&quot;, Company.Type).&#10;&#9;&#9;&#9;Ref(&quot;tags&quot;).&#10;&#9;&#9;&#9;Field(&quot;company_id&quot;).&#10;&#9;&#9;&#9;Required().&#10;&#9;&#9;&#9;Unique(),&#10;&#9;&#9;edge.To(&quot;document_tags&quot;, DocumentTag.Type),&#10;&#9;}&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/apps/frontend/Dockerfile">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/apps/frontend/Dockerfile" />
              <option name="originalContent" value="# Dockerfile for Next.js frontend&#10;FROM node:22.21.1-alpine AS base&#10;&#10;# Ensure pnpm is available in all stages by enabling corepack and preparing pnpm&#10;RUN corepack enable &amp;&amp; corepack prepare pnpm@latest --activate&#10;&#10;# Install dependencies only when needed&#10;FROM base AS deps&#10;RUN apk add --no-cache libc6-compat&#10;WORKDIR /app&#10;&#10;COPY package.json package-lock.json* ./&#10;RUN pnpm install&#10;&#10;# Rebuild the source code only when needed&#10;FROM base AS builder&#10;WORKDIR /app&#10;COPY --from=deps /app/node_modules ./node_modules&#10;COPY . .&#10;&#10;ENV NEXT_TELEMETRY_DISABLED 1&#10;&#10;RUN pnpm run build&#10;&#10;# Production image, copy all the files and run next&#10;FROM base AS runner&#10;WORKDIR /app&#10;&#10;ENV NODE_ENV production&#10;ENV NEXT_TELEMETRY_DISABLED 1&#10;&#10;RUN addgroup --system --gid 1001 nodejs&#10;RUN adduser --system --uid 1001 nextjs&#10;&#10;COPY --from=builder /app/public ./public&#10;&#10;# Set the correct permission for prerender cache&#10;RUN mkdir .next&#10;RUN chown nextjs:nodejs .next&#10;&#10;# Automatically leverage output traces to reduce image size&#10;COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./&#10;COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static&#10;&#10;USER nextjs&#10;&#10;EXPOSE 3000&#10;&#10;ENV PORT 3000&#10;ENV HOSTNAME &quot;0.0.0.0&quot;&#10;&#10;CMD [&quot;node&quot;, &quot;server.js&quot;]&#10;&#10;" />
              <option name="updatedContent" value="# Dockerfile for Next.js frontend&#10;FROM node:22.21.1-alpine AS base&#10;&#10;# Ensure pnpm is available in all stages by enabling corepack and preparing pnpm&#10;RUN corepack enable &amp;&amp; corepack prepare pnpm@latest --activate&#10;&#10;# Install dependencies only when needed&#10;FROM base AS deps&#10;RUN apk add --no-cache libc6-compat&#10;WORKDIR /app&#10;&#10;COPY package.json package-lock.json* ./&#10;RUN pnpm install&#10;&#10;# Rebuild the source code only when needed&#10;FROM base AS builder&#10;WORKDIR /app&#10;COPY --from=deps /app/node_modules ./node_modules&#10;COPY . .&#10;&#10;ENV NEXT_TELEMETRY_DISABLED 1&#10;&#10;RUN pnpm run build&#10;&#10;# Production image, copy all the files and run next&#10;FROM base AS runner&#10;WORKDIR /app&#10;&#10;ENV NODE_ENV production&#10;ENV NEXT_TELEMETRY_DISABLED 1&#10;&#10;RUN addgroup --system --gid 1001 nodejs&#10;RUN adduser --system --uid 1001 nextjs&#10;&#10;COPY --from=builder /app/public ./public&#10;&#10;# Set the correct permission for prerender cache&#10;RUN mkdir .next&#10;RUN chown nextjs:nodejs .next&#10;&#10;# Automatically leverage output traces to reduce image size&#10;COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./&#10;COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static&#10;&#10;USER nextjs&#10;&#10;EXPOSE 3000&#10;&#10;ENV PORT 3000&#10;ENV HOSTNAME &quot;0.0.0.0&quot;&#10;&#10;CMD [&quot;node&quot;, &quot;server.js&quot;]" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>